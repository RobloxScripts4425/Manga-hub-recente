local success, OrionLib = pcall(function()
    return loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
end)

if not success then
    print("Erro ao carregar OrionLib. Verifique sua conexão ou o link da biblioteca.")
    return
end

local Window = OrionLib:MakeWindow({Name = "Manga Hub 4.2.1", HidePremium = false, SaveConfig = true, ConfigFolder = "MangaHub"})

-- Aba "Audio"
local AudioTab = Window:MakeTab({
    Name = "Audio",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local AudioID = "" -- Variável para armazenar o ID do áudio

-- TextBox para inserir o ID do áudio
AudioTab:AddTextbox({
    Name = "ID do Audio",
    Default = "",
    TextDisappear = true,
    Callback = function(Value)
        AudioID = Value
    end    
})

-- Função para pegar e equipar a sniper e tocar o áudio
AudioTab:AddButton({
    Name = "Ativar Audio",
    Callback = function()
        local args = {
            [1] = "PickingTools",
            [2] = "Sniper"
        }

        -- Invoca a função para pegar a Sniper
        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Too1l"):InvokeServer(unpack(args))

        -- Aguardar para garantir que o item foi adicionado ao inventário
        wait(0.5)

        -- Equipar a sniper no personagem
        local tool = game.Players.LocalPlayer.Backpack:FindFirstChild("Sniper") or game.Players.LocalPlayer.Character:FindFirstChild("Sniper")
        if tool then
            tool.Parent = game.Players.LocalPlayer.Character

            -- Verifica se um ID de áudio foi inserido
            if AudioID ~= "" then
                -- Vincular o som ao item existente
                local sound = Instance.new("Sound", tool)
                sound.SoundId = "rbxassetid://"..AudioID
                sound.Volume = 1
                sound:Play()

                -- Tentar fazer o som ser FE associando ao item
                wait(2.9)  -- Brookhaven limite de 3s
                sound:Stop()
            else
                print("Nenhum ID de áudio inserido.")
            end
        else
            print("Sniper não foi encontrada no Backpack ou no Character.")
        end
    end
})

-- Função Anti-Sit (Loop)
AudioTab:AddButton({
    Name = "Anti-Sit",
    Callback = function()
        while true do
            local humanoid = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid and humanoid.Sit then
                humanoid.Sit = false
            end
            wait(0.1) -- Verificar o estado de Sit a cada 0.1 segundos
        end
    end
})

OrionLib:Init()

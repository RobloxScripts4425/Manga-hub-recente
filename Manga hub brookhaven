local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({Name = "Manga Hub 4.2.1", HidePremium = false, SaveConfig = true, ConfigFolder = "MangaHub"})

local players = game:GetService("Players")
local replicatedStorage = game:GetService("ReplicatedStorage")

-- Função para apagar o chão
local function eraseGround()
    for _, part in pairs(workspace:GetChildren()) do
        if part:IsA("BasePart") then
            part.Transparency = 1 -- Torna invisível
            part.CanCollide = false -- Desativa colisão
            part.Anchored = true -- Ancla o objeto para não cair
        end
    end
end

-- Função para restaurar o chão
local function restoreGround()
    for _, part in pairs(workspace:GetChildren()) do
        if part:IsA("BasePart") then
            part.Transparency = 0 -- Torna visível
            part.CanCollide = true -- Restaura colisão
            part.Anchored = false -- Desancla o objeto
        end
    end
end

-- Função para tocar áudio
local function playAudioForOthers(audioId)
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxassetid://" .. audioId
    sound.Parent = workspace
    sound:Play()
    wait(3) -- Toca por 3 segundos
    sound:Destroy() -- Remove o som após tocar
end

-- Aba "Troll de Mapa"
local TrollTab = Window:MakeTab({
    Name = "Troll de Mapa",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Botão para apagar o chão
TrollTab:AddButton({
    Name = "Apagar Chão",
    Callback = function()
        game.ReplicatedStorage:WaitForChild("RE"):FireServer("EraseGround") -- Chama o servidor para apagar o chão
    end
})

-- Botão para restaurar o chão
TrollTab:AddButton({
    Name = "Restaurar Chão",
    Callback = function()
        game.ReplicatedStorage:WaitForChild("RE"):FireServer("RestoreGround") -- Chama o servidor para restaurar o chão
    end
})

-- Aba "Áudio"
local AudioTab = Window:MakeTab({
    Name = "Áudio",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- TextBox para inserir o ID do áudio
AudioTab:AddTextbox({
    Name = "ID do Áudio",
    Default = "",
    TextDisappear = true,
    Callback = function(value)
        print("Áudio ID definido como: " .. value) -- Apenas um log para verificar o ID
    end
})

-- Botão para ativar o áudio
AudioTab:AddButton({
    Name = "Ativar Áudio",
    Callback = function()
        local audioId = AudioTab:GetTextboxValue("ID do Áudio") -- Obtém o ID do áudio
        if audioId then
            playAudioForOthers(audioId) -- Chama a função para tocar o áudio para outros jogadores
        end
    end
})

-- Conectar as funções do servidor
local function onServerEvent(player, action)
    if action == "EraseGround" then
        eraseGround()
    elseif action == "RestoreGround" then
        restoreGround()
    end
end

-- Conectar a função ao evento do servidor
replicatedStorage:WaitForChild("RE").OnServerEvent:Connect(onServerEvent)

OrionLib:Init()
